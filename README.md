# SubManagement API

Этот проект представляет собой веб-API для управления подписками. API позволяет отслеживать подписки, управлять ими, получать уведомления о предстоящих платежах и анализировать расходы на подписки.

## Основные функции

- **Добавление новой подписки**: Создание новой подписки с указанием названия сервиса, стоимости, даты начала и следующего платежа. (POST/api/Subscribtion)
- **Получение списка подписок**: Получение списка всех подписок. (GET/api/Subscribtion)
- **Обновление подписки**: Изменение данных существующей подписки. (PUT/api/Subscrubtion{id})
- **Удаление подписки**: Удаление подписки по её идентификатору. (DELETE/api/Subscrubtion{id})
- **Получение предстоящих платежей**: Получение списка подписок, по которым скоро нужно произвести оплату. (GET/api/Subscrubtion/Предстоящие_Платежи)
- **Аналитика расходов**: Получение общей стоимости подписок за указанный период.(GET/api/Subscrubtion/Расходы_За_Период)

## Технологии

- **ASP.NET Core**: Веб-фреймворк для создания API.
- **Swagger**: Инструмент для документирования и тестирования API.
- **C#**: Язык программирования, используемый для разработки.

## Как запустить проект

### Требования

- [.NET 6 SDK](https://dotnet.microsoft.com/download/dotnet/6.0)
- [Visual Studio 2022](https://visualstudio.microsoft.com/) (рекомендуется) или любой другой редактор кода.

### Установка

1. Клонируйте репозиторий:

```
   git clone https://github.com/I1-dot/SubManagement.git
```
2. Перейдите в папку проекта:
   
```
   cd SubManagement
```
3. Установите зависимости:
```
dotnet restore
```

### Запуск

1. Выполните команду для сборки:

```
dotnet build
```
2. Выполните команду для запуска

```
dotnet run
```
### Пример запросов
1.**Добавление новой подписки (POST/api/subscription)**

**Тело запроса JSON**

```
{
  "serviceName": "ЯндексПлюс",
  "monthlyCost": 299,
  "startDate": "2024-10-01",
  "nextPaymentDate": "2024-11-01",
  "isActive": true
}
```

**Ответ**

```
{
  "id": 1,
  "serviceName": "ЯндексПлюс",
  "monthlyCost": 299,
  "startDate": "2024-10-01",
  "nextPaymentDate": "2024-11-01",
  "isActive": true
}
```

2. **Получение списка подписок (GET /api/subscription)**

**Ответ**

```
[
  {
    "id": 1,
    "serviceName": "ЯндексПлюс",
    "monthlyCost": 299,
    "startDate": "2024-10-01",
    "nextPaymentDate": "2024-11-01",
    "isActive": true
  }
]
```
3.**Обновление подписки (PUT /api/subscription/1)**

**Тело запроса JSON**

```
{
  "serviceName": "Spotify",
  "monthlyCost": 399,
  "startDate": "2024-10-01",
  "nextPaymentDate": "2024-11-01",
  "isActive": true
}
```

**Ответ**

```
204 No Content
```

4. **Удаление подписки (DELETE /api/subscription/1)**

**Ответ**

```
204 No Content
```

5. **Получение предстоящих платежей (GET /api/subscription/Предстоящие_Платежи)**

**Ответ**

```
[
  {
    "id": 1,
    "serviceName": "ЯндексПлюс",
    "monthlyCost": 299,
    "startDate": "2024-10-01",
    "nextPaymentDate": "2024-11-01",
    "isActive": true
  }
]
```
6. **Получение общих расходов за период (GET /api/subscription/расходы_за_период?startDate=2024-10-01&endDate=2024-10-31)**

**Ответ**

```
299
```
